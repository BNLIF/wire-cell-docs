<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Install Externals - Wire Cell Documentation</title>
  

  <link rel="shortcut icon" href="../../img/favicon.ico">

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../../css/highlight.css">

  
  <script>
    // Current page data
    var mkdocs_page_name = "Install Externals";
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js"></script>
  <script src="../../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../../js/highlight.pack.js"></script>
  <script src="../../js/theme.js"></script> 

  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> Wire Cell Documentation</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        <ul class="current">
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../..">Overview</a>
        
    </li>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Installation</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../install/">Install Wire Cell</a>
        
    </li>

        
            
    <li class="toctree-l1 current">
        <a class="current" href="./">Install Externals</a>
        
            <ul>
            
                <li class="toctree-l3"><a href="#overview">Overview</a></li>
                
            
                <li class="toctree-l3"><a href="#manual-installation-of-externals">Manual installation of externals</a></li>
                
                    <li><a class="toctree-l4" href="#compiler">Compiler</a></li>
                
                    <li><a class="toctree-l4" href="#root6">ROOT6</a></li>
                
            
                <li class="toctree-l3"><a href="#automated-installation-with-spack">Automated installation with Spack</a></li>
                
            
                <li class="toctree-l3"><a href="#site-installations">Site installations</a></li>
                
                    <li><a class="toctree-l4" href="#racf-setup">RACF Setup</a></li>
                
                    <li><a class="toctree-l4" href="#fnal-setup">FNAL Setup</a></li>
                
            
                <li class="toctree-l3"><a href="#os-level-installation">OS level installation</a></li>
                
                    <li><a class="toctree-l4" href="#mac">Mac</a></li>
                
            
            </ul>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Developer</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../dev/overview/">Overview</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../dev/dev/">Building</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../dev/iface/">Interfaces</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../dev/data/">Persistency</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../dev/test/">Testing</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Algorithms</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../alg/cell/">Making Cells</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../alg/blob/">Blob Reconstruction</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Visualization</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../viz/bee/">BEE</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../viz/uploads/">User Uploads</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Meta</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../meta/meta/">About</a>
        
    </li>

        
    </ul>
<li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">Wire Cell Documentation</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>Installation &raquo;</li>
        
      
    
    <li>Install Externals</li>
    <li class="wy-breadcrumbs-aside">
      
        
          <a href="https://github.com/BNLIF/wire-cell-docs/" class="icon icon-github"> Edit on GitHub</a>
        
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <div class="toc">
<ul>
<li><a href="#overview">Overview</a></li>
<li><a href="#manual-installation-of-externals">Manual installation of externals</a><ul>
<li><a href="#compiler">Compiler</a></li>
<li><a href="#root6">ROOT6</a></li>
</ul>
</li>
<li><a href="#automated-installation-with-spack">Automated installation with Spack</a></li>
<li><a href="#site-installations">Site installations</a><ul>
<li><a href="#racf-setup">RACF Setup</a></li>
<li><a href="#fnal-setup">FNAL Setup</a></li>
</ul>
</li>
<li><a href="#os-level-installation">OS level installation</a><ul>
<li><a href="#mac">Mac</a></li>
</ul>
</li>
</ul>
</div>
<h1 id="overview">Overview</h1>
<p>The <code>wire-cell</code> software in <a href="https://github.com/BNLIF">BNL IF GitHub</a> depends on some software that may not come with your OS, in particular <a href="http://root.cern.ch">ROOT</a> v6 and a possibly a compiler that supports C++11.</p>
<p>There are a few ways ways to supply the required externals described below.</p>
<ol>
<li>
<p>manually build or otherwise provide them yourself.</p>
</li>
<li>
<p>automatically build and install them with <a href="https://github.com/LLNL/spack">Spack</a> with support provided by the Wire Cell Toolkit's <a href="https://github.com/WireCell/wire-cell-spack">wire-cell-spack</a> package.</p>
</li>
<li>
<p>use an existing site-installation.</p>
</li>
<li>
<p>OS-level installation.</p>
</li>
</ol>
<p>The following sections gives some guidance on each of these approaches.</p>
<h1 id="manual-installation-of-externals">Manual installation of externals</h1>
<p>You may provide Wire Cell externals as you wish.  This section gives
guidance on how to do this.</p>
<p>Some general things to assure:</p>
<ul>
<li>use the same compiler for all C++ packages.</li>
<li>use a compiler that supports C++11.</li>
<li>all C++ packages built against the C++11 standard, eg GCC's <code>-std=c++11</code> flag.</li>
</ul>
<p>The rest of this section gives some guidance on specific packages.</p>
<h2 id="compiler">Compiler</h2>
<p>You must use a compiler that supports C++11.
Clang may work but is untested (please report successes/failures).
GCC 4.9.2 is what the developers currently use.  </p>
<p>Newer GCCs are more strict, particularly w.r.t. headers will likely uncover bugs of omission.  Please report them to the developers.</p>
<h2 id="root6">ROOT6</h2>
<p>CMake should used with at least these flags:</p>
<pre><code class="shell">cmake -Dminuit2=ON -Dpython=ON -Dcxx11=ON -DFFTW_LIBRARY=/path/to/lib/libfftw3.so [...]
</code></pre>

<h1 id="automated-installation-with-spack">Automated installation with Spack</h1>
<p><a href="https://github.com/LLNL/spack">Spack</a> is a "meta build system" that
runs the individual build systems that come with packages.  It allows
one to manage an ever growing installation area which can accommodate
multiple versions of a package.  It also comes with support
for <a href="http://modules.sourceforge.net/">Environment Modules</a>
 to handle your users' setup of these packages or can make targeted release "views" of its package tree.</p>
<p>The Wire Cell Toolkit provides a package <a href="https://github.com/WireCell/wire-cell-spack">wire-cell-spack</a>
which collects instructions and a Spack "repo" that builds WCT and its third-party dependencies.  This leverages Spacks built-in "repo" to provide dependencies needed by WCT's direct dependencies.  Using it will tend to build packages that one may already have installed through the OS (eg, Python).  However, this duplication should not add much to the overall build time which is automatic nor lead to any problems.</p>
<p>An installer that wishes to use wire-cell-spack to provide the dependencies should begin by following its <a href="https://github.com/WireCell/wire-cell-spack/blob/master/README.org">README</a> file.</p>
<p>Although developed for the Wire Cell Toolkit, the resulting external dependencies will be suitable for the prototype.  However, some additional packages not strictly required may be built.</p>
<h1 id="site-installations">Site installations</h1>
<p>Some sites associated with Wire Cell development have already been
provisioned with the necessary externals and you may leverage them.</p>
<h2 id="racf-setup">RACF Setup</h2>
<p>At BNL's RACF, a simple, single-rooted installation of Wire Cell external packages is provided.</p>
<p>Bash users do:</p>
<pre><code class="bash">$ source /gpfs01/lbne/users/sw/wc/bin/thisroot.sh
</code></pre>

<p>Or, if you are still stuck using <code>tcsh</code> do:</p>
<pre><code class="csh">&gt; source /gpfs01/lbne/users/sw/wc/bin/thisroot.csh
</code></pre>

<h2 id="fnal-setup">FNAL Setup</h2>
<p>At Fermilab, externals are provided by UPS.</p>
<pre><code class="bash">$ source /grid/fermiapp/products/larsoft/setups
$ setup root v6_04_02 -q e7:prof
$ setup boost v1_57_0 -q e7:prof
</code></pre>

<h1 id="os-level-installation">OS level installation</h1>
<h2 id="mac">Mac</h2>
<p>Install homebrew and do</p>
<pre><code class="bash">$ brew install boost
$ brew install homebrew/science/root6
</code></pre>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../../dev/overview/" class="btn btn-neutral float-right" title="Overview"/>Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../install/" class="btn btn-neutral" title="Install Wire Cell"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>

  </div>

<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a class="icon icon-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../install/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../../dev/overview/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>

</body>
</html>
